FROM openjdk:18-jdk-alpine
RUN  \
     # Install json utilities for config.json (t5)
     apk add --no-cache npm git && npm install --unsafe-perm -g json

# Sweet Home Alabama :)
WORKDIR /home

# EXPOSE Web (https) and Game Server
EXPOSE 443 22102

# Copy files Grasscutter
COPY work ./Grasscutter

# Rock
COPY entrypoint.sh .
ENTRYPOINT ["sh", "entrypoint.sh"]