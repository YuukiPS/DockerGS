FROM eclipse-temurin:17-jdk-alpine
RUN  \
     # Install json utilities for config.json
     apk add --no-cache npm git curl gcompat &&\
     npm install --unsafe-perm -g json

# Sweet Home Alabama :)
WORKDIR /home

# EXPOSE Web (https) and Game Server
EXPOSE 443 22102

# Copy files Grasscutter (v4)
COPY work ./Grasscutter
#RUN ls -a && ls work -a

# Rock
COPY entrypoint.sh .

ENTRYPOINT ["sh", "entrypoint.sh"]